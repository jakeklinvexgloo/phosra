{
  "platformInfo": {
    "name": "Claude",
    "company": "Anthropic",
    "launchDate": "2023-03",
    "monthlyActiveUsers": "~18.9 million website MAU + ~7.4 million app MAU (Q3 2025 - Q4 2025). ~3.5% of global generative AI chatbot market.",
    "minorUserEstimate": "Unknown -- 18+ required, but 51.88% of users are ages 18-24 (youngest tracked demographic). Minors who bypass trivial age verification are untracked. Given the ease of circumvention (single checkbox), minor usage is likely non-trivial.",
    "primaryUseCase": "General assistant -- coding, writing, analysis, research, education, emotional support (~2.9% of conversations)"
  },
  "safetySettings": {
    "description": "Claude uses Constitutional AI for safety -- principles are trained into the model rather than applied as external filters. No user-configurable safety levels exist. All users receive the same safety experience regardless of age (since all users are supposed to be 18+). Safety is model-level, not account-level.",
    "levels": [
      { "level": "Standard (all users)", "description": "Constitutional AI-embedded safety. Refuses harmful content, provides crisis resources, identifies stereotypes. Not configurable by users.", "default": true },
      { "level": "Enhanced (policy violators)", "description": "Increased sensitivity filters temporarily applied to users who repeatedly violate Acceptable Use Policy.", "default": false },
      { "level": "Learning Mode", "description": "Socratic questioning mode that guides reasoning rather than providing direct answers. User-activated, not a safety level per se.", "default": false }
    ],
    "features": [
      { "feature": "Constitutional AI core safety", "configurable": false, "scope": "model-level" },
      { "feature": "Constitutional Classifiers (input/output guards)", "configurable": false, "scope": "platform-level" },
      { "feature": "Crisis detection and hotline display", "configurable": false, "scope": "conversation-level" },
      { "feature": "CSAM detection and NCMEC reporting", "configurable": false, "scope": "platform-level" },
      { "feature": "Behavioral minor-detection classifiers", "configurable": false, "scope": "account-level" },
      { "feature": "Memory (cross-conversation context)", "configurable": true, "scope": "account" },
      { "feature": "Model training opt-out", "configurable": true, "scope": "account" },
      { "feature": "Learning Mode", "configurable": true, "scope": "session" },
      { "feature": "Data export", "configurable": true, "scope": "account" }
    ]
  },
  "technicalRecon": {
    "subtitle": "Anthropic Messages API ecosystem, authentication, and consumer vs developer gap",
    "apiArchitecture": {
      "title": "Anthropic Messages API (Developer) + No Consumer Parental API",
      "description": "Anthropic operates the Messages API for developers supporting chat completions, tool use, vision, extended thinking, batch processing, and streaming. However, there is ZERO API access to consumer Claude features -- no parental controls exist at all, no conversation access for third parties, no usage stats API, and no moderation API. Unlike OpenAI, Anthropic does not offer a free content moderation endpoint. All consumer features are web/app-only at claude.ai.",
      "codeExample": {
        "comment": "// Anthropic Messages API (developer, paid)",
        "method": "POST",
        "endpoint": "https://api.anthropic.com/v1/messages",
        "exampleComment": "// Send a message to Claude with the Messages API",
        "exampleCode": "{ \"model\": \"claude-sonnet-4-6\", \"max_tokens\": 1024, \"messages\": [{\"role\": \"user\", \"content\": \"Hello, Claude\"}] }"
      }
    },
    "endpoints": [
      { "endpoint": "POST /v1/messages", "purpose": "Messages API -- send conversation messages to Claude models", "auth": "API Key (x-api-key header)" },
      { "endpoint": "POST /v1/messages (streaming)", "purpose": "Streaming Messages API -- server-sent events for real-time token delivery", "auth": "API Key (x-api-key header)" },
      { "endpoint": "GET /v1/models", "purpose": "List available models and their capabilities", "auth": "API Key (x-api-key header)" },
      { "endpoint": "POST /v1/messages/batches", "purpose": "Batch processing API -- submit batches of messages for async processing (50% cost reduction)", "auth": "API Key (x-api-key header)" },
      { "endpoint": "GET /v1/messages/batches/{batch_id}", "purpose": "Retrieve batch processing results", "auth": "API Key (x-api-key header)" },
      { "endpoint": "POST /v1/messages (with tools)", "purpose": "Tool use / function calling -- Claude can invoke external tools", "auth": "API Key (x-api-key header)" },
      { "endpoint": "N/A -- No Consumer Parental API", "purpose": "No consumer-facing API for parental controls, usage monitoring, or safety settings. Complete gap.", "auth": "N/A" },
      { "endpoint": "N/A -- No Moderation API", "purpose": "Unlike OpenAI, Anthropic does not offer a content moderation classification endpoint. Phosra must use third-party moderation.", "auth": "N/A" }
    ],
    "authDetails": [
      { "label": "Developer API", "value": "API Key (x-api-key header)", "description": "Organization-scoped API keys. Workspace-level keys for granular access control. Tiered rate limits from 5 RPM (free tier) to 4,000 RPM (Tier 4). Not tied to consumer accounts." },
      { "label": "Consumer Auth", "value": "Session cookie + OAuth", "description": "Web session at claude.ai. OAuth via Google SSO. No programmatic access to consumer sessions. Cloudflare protection." },
      { "label": "No Parent Dashboard", "value": "N/A", "description": "Anthropic does not offer any parent dashboard, family controls, or third-party monitoring APIs. Complete blind spot for parents." }
    ],
    "rateLimitNotes": [
      "Developer API: Tiered rate limits -- Free tier: 5 RPM, 25,000 tokens/min. Tier 1 ($5 deposit): 50 RPM. Tier 4 ($400+ spend): 4,000 RPM, 400,000 tokens/min.",
      "Token bucket algorithm for rate limiting -- capacity continuously replenished, not reset at fixed intervals.",
      "Consumer claude.ai: ~40 msgs/day (Free), ~45/5h (Pro), 5x (Max $100), 20x (Max $200). Dynamic adjustment based on demand and message complexity.",
      "Long context pricing: Normal rate for input <= 200K tokens. Jumps to 2x input / 1.5x output for messages > 200K tokens.",
      "No content moderation API -- unlike OpenAI, Anthropic does not offer a free or paid moderation endpoint.",
      "Batch API: 50% cost reduction for non-time-sensitive requests. Results within 24 hours.",
      "Prompt caching: Up to 90% cost reduction for repeated context. 5-minute TTL (default), extended with usage.",
      "Consumer web interface: Cloudflare-protected. No CAPTCHA observed but bot detection present."
    ],
    "harCaptureCount": "N/A -- no consumer API to capture"
  },
  "profileStructure": {
    "accountLabel": "Anthropic Account",
    "accountDescription": "Claude Subscription",
    "accountMeta": "1 account per user -- No parental controls, no family features, no teen tier. 18+ only.",
    "accountBorderColor": "#D97706",
    "accountLabelColor": "#f59e0b",
    "hierarchyDescription": "Anthropic Account -> Subscription Tier -> Settings hierarchy. No age tiers. No parent-child linking.",
    "profiles": [
      { "name": "Free User", "maturity": "Full Access (rate-limited)", "type": "standard", "pinEnabled": false },
      { "name": "Pro User ($20/mo)", "maturity": "Full Access + Priority + Memory + Extended Thinking", "type": "standard", "pinEnabled": false },
      { "name": "Max 5x User ($100/mo)", "maturity": "Full Access + 5x Usage + All Models", "type": "standard", "pinEnabled": false },
      { "name": "Max 20x User ($200/mo)", "maturity": "Full Access + 20x Usage + All Models", "type": "standard", "pinEnabled": false },
      { "name": "Team User ($30/user/mo)", "maturity": "Full Access + Admin Controls + Workspace", "type": "standard", "pinEnabled": false },
      { "name": "Enterprise User (custom)", "maturity": "Full Access + SSO + Zero Retention + SLA", "type": "standard", "pinEnabled": false }
    ],
    "settings": [
      { "setting": "Content Safety Level", "configurable": false },
      { "setting": "Memory", "configurable": true },
      { "setting": "Learning Mode", "configurable": true },
      { "setting": "Model Training Opt-Out", "configurable": true },
      { "setting": "Data Export", "configurable": true },
      { "setting": "Theme (Light/Dark)", "configurable": true },
      { "setting": "Language", "configurable": true }
    ],
    "subscriptionTiers": [
      { "plan": "Free", "streams": "N/A", "resolution": "Sonnet 4.6 (limited ~40 msgs/day) + Haiku 4.5 fallback" },
      { "plan": "Pro ($20/mo)", "streams": "N/A", "resolution": "Sonnet 4.6 + Opus 4.6 (limited) + Haiku 4.5 + Extended Thinking + Memory" },
      { "plan": "Max 5x ($100/mo)", "streams": "N/A", "resolution": "All models, 5x Pro usage limits" },
      { "plan": "Max 20x ($200/mo)", "streams": "N/A", "resolution": "All models, 20x Pro usage limits (effectively unlimited)" },
      { "plan": "Team ($30/user/mo)", "streams": "N/A", "resolution": "All models + workspace admin controls + no training on data" },
      { "plan": "Enterprise (custom)", "streams": "N/A", "resolution": "All models + SSO + zero data retention + SLA + custom limits" }
    ]
  },
  "riskAssessment": {
    "tosWarning": {
      "title": "Anthropic Terms of Use -- Automated Access",
      "description": "Anthropic's Terms prohibit automated access to the consumer Claude interface (claude.ai). The developer API is designed for programmatic access but does not expose consumer features. Browser automation of settings would likely violate ToS. Phosra's browser extension approach (client-side, user-installed) is a gray area but more defensible as a parental control tool than server-side automation."
    },
    "overallRisk": {
      "level": "Medium",
      "description": "Extension-based monitoring is lower risk than server-side automation. Network-level controls are fully compliant. No moderation API available -- Phosra must use third-party content classification (e.g., OpenAI Moderation API, Google Perspective API)."
    },
    "detectionVectors": [
      { "vector": "Browser extension detection", "risk": "Low", "mitigation": "Extensions are user-installed parental controls -- Anthropic does not block these" },
      { "vector": "Playwright automation of claude.ai", "risk": "High", "mitigation": "Cloudflare protection present. Use stealth mode + persistent sessions. Fragile approach. Not recommended." },
      { "vector": "No moderation API available", "risk": "N/A", "mitigation": "Unlike OpenAI, Anthropic does not offer a moderation API. Phosra must use OpenAI Moderation API or Google Perspective API for content classification." },
      { "vector": "DNS blocking detection", "risk": "None", "mitigation": "Network-level controls are invisible to Anthropic. Block claude.ai and api.anthropic.com." },
      { "vector": "Memory monitoring via extension", "risk": "Low", "mitigation": "Extension can observe Memory settings page DOM. Standard browser capability for user-installed extensions." }
    ],
    "mitigationsChecklist": [
      "Use browser extension for monitoring (user-consented, client-side, installed by parent)",
      "Use third-party content classification (no Anthropic moderation API available)",
      "Use DNS/network-level controls for enforcement (compliant, hard to bypass)",
      "No Playwright automation needed -- Anthropic has no parent dashboard to sync",
      "Implement extension heartbeat to detect if teen disables it",
      "Consider mobile gap -- extension does not cover iOS/Android Claude apps",
      "Monitor Anthropic for any future parental control announcements",
      "Consider using OpenAI Moderation API as content classifier for Claude conversations",
      "Monitor Memory settings page for concerning saved memories via extension",
      "Account required -- no guest access bypass risk (unlike ChatGPT)"
    ]
  },
  "integrationGap": {
    "platformName": "Claude",
    "stats": [
      { "label": "Native", "value": 1, "color": "bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300" },
      { "label": "Phosra-Added", "value": 9, "color": "bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300 ring-1 ring-green-300 dark:ring-green-700" },
      { "label": "N/A", "value": 5, "color": "bg-muted text-muted-foreground" },
      { "label": "Future", "value": 19, "color": "bg-muted/60 text-muted-foreground/70" }
    ],
    "gapOpportunities": [
      {
        "icon": "Shield",
        "title": "Parental Controls (Any)",
        "ruleCategory": "parental_consent_gate",
        "gapLabel": "Claude Gap",
        "gap": "Claude has ZERO parental controls. No parent dashboard, no account linking, no visibility, no configuration. The most significant safety gap among major AI chatbots. A child with an account has the exact same experience as any adult.",
        "solutionLabel": "Phosra Solution",
        "solution": "Phosra browser extension provides comprehensive parental oversight: conversation monitoring, content classification via third-party APIs, usage tracking, and configurable safety alerts -- all without requiring any cooperation from Anthropic."
      },
      {
        "icon": "Clock",
        "title": "Daily Time Limits",
        "ruleCategory": "screen_time_limit",
        "gapLabel": "Claude Gap",
        "gap": "Claude has ZERO time limits. No native way for anyone to restrict daily conversation time. Children can chat indefinitely within message quotas (~40/day free, unlimited on Max $200).",
        "solutionLabel": "Phosra Solution",
        "solution": "Phosra browser extension tracks session duration. When the daily limit is reached, the extension blocks the page and network-level DNS blocking of claude.ai prevents bypass via other browsers."
      },
      {
        "icon": "MessageSquare",
        "title": "Message Limits (Parent-Configurable)",
        "ruleCategory": "message_rate_limit",
        "gapLabel": "Claude Gap",
        "gap": "Claude's rate limits are technical/billing only (~40/day free, ~45/5h Pro). Parents cannot set custom message limits. A child on Max $200 has effectively unlimited messages.",
        "solutionLabel": "Phosra Solution",
        "solution": "Phosra extension counts messages sent per day. When the parent-set limit is reached, the input field is blocked and a friendly 'limit reached' message is displayed."
      },
      {
        "icon": "Bell",
        "title": "Real-Time Safety Alerts",
        "ruleCategory": "parental_event_notification",
        "gapLabel": "Claude Gap",
        "gap": "Claude has NO parent notifications whatsoever. Zero safety alerts, zero usage summaries, zero crisis notifications to parents. Crisis banner shows to the child only. Parents are completely blind.",
        "solutionLabel": "Phosra Solution",
        "solution": "Phosra extension detects concerning content via third-party content classification APIs. Instant push notification sent to parent with severity level and context. Fills the complete notification gap."
      },
      {
        "icon": "Coffee",
        "title": "Break Reminders",
        "ruleCategory": "engagement_check",
        "gapLabel": "Claude Gap",
        "gap": "Claude has no break reminders, no wellness check-ins, and no engagement limits. A child can have multi-hour continuous conversations with no interruption whatsoever.",
        "solutionLabel": "Phosra Solution",
        "solution": "Phosra extension injects 'time for a break' prompts at parent-configured intervals. Optional mandatory break enforcement pauses the conversation until the break period expires."
      },
      {
        "icon": "Brain",
        "title": "Homework Cheating Detection",
        "ruleCategory": "academic_integrity",
        "gapLabel": "Claude Gap",
        "gap": "Claude gives direct answers to any academic question in standard mode. Learning Mode must be explicitly activated by the user. No built-in homework detection. The 1M-token context window can process entire textbooks.",
        "solutionLabel": "Phosra Solution",
        "solution": "Phosra extension analyzes conversation patterns for homework-related queries using client-side NLP. Parents can choose to: alert only, redirect to Learning Mode activation prompt, or block academic queries."
      }
    ],
    "adapterLayers": [
      { "label": "Browser Extension", "color": "bg-emerald-500/20 text-emerald-700 dark:text-emerald-300 border-emerald-500/30" },
      { "label": "Third-Party Moderation", "color": "bg-blue-500/20 text-blue-700 dark:text-blue-300 border-blue-500/30" },
      { "label": "Network Controls", "color": "bg-amber-500/20 text-amber-700 dark:text-amber-300 border-amber-500/30" }
    ],
    "credentials": [
      { "name": "Third-party moderation API key", "purpose": "Content classification (no Anthropic moderation API exists)", "sensitivity": "Medium", "encryption": "AES-256", "retention": "Permanent (Phosra-owned key)" },
      { "name": "Browser extension token", "purpose": "Extension-to-Phosra API authentication", "sensitivity": "Medium", "encryption": "AES-256", "retention": "Active session only" }
    ],
    "platformBgColor": "rgba(217,119,6,0.05)",
    "platformIconLetter": "C",
    "platformIconBg": "#D97706",
    "apiDescription": "Extension (monitoring) + Third-party moderation (classification) + DNS (enforcement). No Anthropic APIs for consumer features.",
    "adapterName": "Claude Adapter"
  },
  "enforcementFlow": {
    "steps": [
      {
        "id": "monitor",
        "icon": "Eye",
        "title": "Monitor",
        "description": "Track conversations in real-time",
        "detail": "Browser extension observes messages on claude.ai using MutationObserver. Captures visible text from Claude response elements, counts user messages via input monitoring, tracks session duration. Memory page monitoring detects concerning saved memories.",
        "color": "bg-blue-500/10 text-blue-700 dark:text-blue-300 border-blue-500/30",
        "dotColor": "bg-blue-500",
        "headerBg": "bg-blue-500/10"
      },
      {
        "id": "classify",
        "icon": "Shield",
        "title": "Classify",
        "description": "Analyze content safety",
        "detail": "Send captured conversation text to a third-party content moderation API (e.g., OpenAI Moderation API or Google Perspective API) for safety classification across multiple harm categories. No Anthropic moderation API exists -- this is a key architectural difference from the ChatGPT adapter.",
        "color": "bg-purple-500/10 text-purple-700 dark:text-purple-300 border-purple-500/30",
        "dotColor": "bg-purple-500",
        "headerBg": "bg-purple-500/10"
      },
      {
        "id": "enforce",
        "icon": "Lock",
        "title": "Enforce",
        "description": "Apply limits and blocks",
        "detail": "When time/message limits exceeded: extension blocks the page UI. Network-level DNS blocking of claude.ai and api.anthropic.com prevents bypass via other browsers or incognito mode. No Anthropic settings to sync -- all enforcement is Phosra-side. Simpler than ChatGPT adapter (no Playwright needed).",
        "color": "bg-red-500/10 text-red-700 dark:text-red-300 border-red-500/30",
        "dotColor": "bg-red-500",
        "headerBg": "bg-red-500/10"
      },
      {
        "id": "notify",
        "icon": "Bell",
        "title": "Notify",
        "description": "Alert parent instantly",
        "detail": "Push real-time notification to parent via Phosra app with alert severity, content category, and recommended action. Critical alerts (self-harm, sexual/minors) are immediate. This fills the complete gap -- Anthropic sends zero parent notifications of any kind.",
        "color": "bg-emerald-500/10 text-emerald-700 dark:text-emerald-300 border-emerald-500/30",
        "dotColor": "bg-emerald-500",
        "headerBg": "bg-emerald-500/10"
      }
    ],
    "limitations": [
      {
        "icon": "Smartphone",
        "title": "No mobile app coverage",
        "description": "Browser extension only works on desktop browsers (Chrome, Firefox, Edge). Mobile Claude apps (iOS/Android -- 7.4M MAU) are not covered. Rely on device-level controls and network blocking for mobile."
      },
      {
        "icon": "AlertTriangle",
        "title": "No moderation API from Anthropic",
        "description": "Unlike OpenAI, Anthropic does not offer a free content moderation API. Phosra must use third-party moderation services (OpenAI Moderation API, Google Perspective API) to classify Claude conversation content. Adds external dependency and potential latency."
      },
      {
        "icon": "UserX",
        "title": "Extension can be disabled",
        "description": "A tech-savvy teen can disable or remove the browser extension. Phosra detects missing extension heartbeat and alerts the parent, but there is a window of unmonitored access before the alert fires."
      },
      {
        "icon": "Lock",
        "title": "Account required -- no guest bypass risk",
        "description": "Unlike ChatGPT, Claude requires an account to use. No guest access bypass risk exists. However, account creation is trivially easy -- single checkbox + any email address. A child can create an account in under 60 seconds."
      }
    ],
    "loopLabel": "Continuous monitoring while Claude is active"
  },
  "adapterRoadmap": {
    "methods": [
      { "name": "installExtension", "approach": "Browser Extension", "approachColor": "bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300", "complexity": "Medium", "risk": "Low", "recommendation": "Chrome Web Store distribution. Auto-configure via Phosra account linking. Parent installs on child's browser." },
      { "name": "trackMessages", "approach": "Browser Extension", "approachColor": "bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300", "complexity": "Medium", "risk": "Medium", "recommendation": "MutationObserver on chat container. Target Claude response elements for AI messages. Count user messages via input monitoring. Track model selection." },
      { "name": "trackSessionTime", "approach": "Browser Extension", "approachColor": "bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300", "complexity": "Low", "risk": "Low", "recommendation": "Simple timer tracking active tab time on claude.ai domain. Report to Phosra API." },
      { "name": "classifyContent", "approach": "Third-Party API", "approachColor": "bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300", "complexity": "Low", "risk": "Low", "recommendation": "Send captured message text to OpenAI Moderation API or Google Perspective API. No Anthropic moderation endpoint available. OpenAI Moderation API is free and covers 11 safety categories." },
      { "name": "enforceTimeLimits", "approach": "Extension + DNS", "approachColor": "bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-300", "complexity": "Medium", "risk": "Low", "recommendation": "Extension blocks page when limit reached. DNS blocking of claude.ai prevents bypass via other browsers or incognito." },
      { "name": "enforceQuietHours", "approach": "DNS Blocking", "approachColor": "bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-300", "complexity": "Low", "risk": "Low", "recommendation": "Block claude.ai and api.anthropic.com domains during quiet hours via DNS rules. Account required (unlike ChatGPT), so no guest access workaround." },
      { "name": "injectBreakReminders", "approach": "Browser Extension", "approachColor": "bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300", "complexity": "Low", "risk": "Low", "recommendation": "Inject overlay prompt at configured intervals. Non-dismissable for mandatory breaks." },
      { "name": "detectCrisis", "approach": "Extension + Third-Party API", "approachColor": "bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300", "complexity": "Medium", "risk": "Low", "recommendation": "Detect Claude crisis response elements (hotline display) + third-party moderation API self-harm flags. Immediate parent alert. Claude's own crisis response is 98.6-99.3% accurate." },
      { "name": "monitorMemory", "approach": "Browser Extension", "approachColor": "bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300", "complexity": "Medium", "risk": "Medium", "recommendation": "Monitor Memory settings page for concerning saved memories. Alert parent if sensitive topics detected in memory entries. Pro+ only (Free users don't have Memory)." },
      { "name": "detectHomework", "approach": "Extension + NLP", "approachColor": "bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300", "complexity": "High", "risk": "Low", "recommendation": "Client-side NLP pattern matching for homework-related queries. Alert parent and optionally prompt activation of Learning Mode." }
    ],
    "timelinePhases": [
      { "priority": "P0", "label": "Extension MVP", "components": "Message/time tracking (3-4d), Extension infrastructure (2-3d)", "minDays": 5, "maxDays": 7, "color": "text-red-700 dark:text-red-300", "barColor": "bg-red-500", "hatchColor": "bg-red-300 dark:bg-red-700" },
      { "priority": "P1", "label": "Enforcement", "components": "DNS blocking (2-3d), Third-party content classification (3-4d), Alerts (1-2d)", "minDays": 6, "maxDays": 9, "color": "text-amber-700 dark:text-amber-300", "barColor": "bg-amber-500", "hatchColor": "bg-amber-300 dark:bg-amber-700" },
      { "priority": "P2", "label": "Intelligence", "components": "Topic detection NLP (3-5d), Homework detection (2-3d), Memory monitoring (2-3d)", "minDays": 7, "maxDays": 11, "color": "text-emerald-700 dark:text-emerald-300", "barColor": "bg-emerald-500", "hatchColor": "bg-emerald-300 dark:bg-emerald-700" }
    ],
    "totalEstimate": "18-27 days",
    "maxTotal": 27
  }
}